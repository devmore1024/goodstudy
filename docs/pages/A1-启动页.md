# A1 启动页

## 页面信息
- **所属模块**：登录注册模块
- **页面类型**：全屏页
- **数字人老师**：不显示
- **支持模式**：通用

## 线框图

```
+----------------------------------------+
|  9:41            ⚡ 📶 100%            |
|                                        |
|                                        |
|                                        |
|                                        |
|                                        |
|                                        |
|                                        |
|                                        |
|              🌸 (Logo)                 |
|            +-----------+               |
|            |           |               |
|            |  小花图标  |               |
|            |  80x80pt  |               |
|            +-----------+               |
|                                        |
|             小 花 老 师                 |
|                                        |
|          AI伴学 · 因材施教              |
|                                        |
|                                        |
|              ◠ ◠ ◠                     |
|           (加载动画指示器)              |
|                                        |
|                                        |
|                                        |
|                                        |
|                                        |
|                                        |
|                                        |
|                                        |
|           v1.0.0 build 100             |
|                                        |
+----------------------------------------+
```

## 元素说明

### 1. 状态栏区域
- **位置**：页面顶部，系统状态栏
- **样式**：透明背景，白色/深色文字随系统主题适配
- **说明**：显示系统时间、信号、电量等标准信息

### 2. 小花老师头像
- **位置**：页面垂直居中偏上（距顶部约 40% 位置）
- **尺寸**：112 × 112 pt，圆角矩形（24pt 圆角）
- **内容**：小花老师真实卡通头像图片（`/images/teacher.png`）
- **样式**：白色描边 ring-4、大阴影 shadow-2xl、半透明品牌色渐变光晕（从绿色到橙色，blur-2xl，scale 2x）
- **动画**：冷启动时从 0.75 倍缩放至 1.0 倍，配合透明度 0→1 渐显，时长 700ms，缓动函数 ease-out

### 3. 应用名称
- **位置**：Logo 下方 16pt
- **内容**：「小花老师」
- **样式**：字号 28pt，字重 Semibold，颜色 #333333，字间距 4pt
- **动画**：Logo 动画完成后 200ms 延迟渐显，时长 400ms

### 4. 品牌标语
- **位置**：应用名称下方 8pt
- **内容**：「AI伴学 · 因材施教」
- **样式**：字号 14pt，字重 Regular，颜色 #999999
- **动画**：与应用名称同步渐显

### 5. 加载动画指示器
- **位置**：品牌标语下方 40pt
- **尺寸**：三个圆点，每个 8pt 直径，间距 8pt
- **样式**：品牌色（#FF7A45），依次跳动动画
- **动画**：三个圆点依次上下跳动，每个延迟 150ms，循环播放
- **说明**：仅在冷启动加载时显示，热启动不显示此元素

### 6. 版本号
- **位置**：页面底部安全区域上方 20pt，水平居中
- **内容**：版本号 + 构建号，如「v1.0.0 build 100」
- **样式**：字号 11pt，字重 Regular，颜色 #CCCCCC

### 7. 背景
- **样式**：温暖渐变背景 page-bg-splash（从 #FFF6EE 到 #FFFFFF 到 #EEFBF3），深色模式适配 #1A1A1A
- **装饰元素**：三个半透明渐变装饰圆形（deco-circle），分别位于右上角（品牌绿/5）、左下角（橙色/5）、左中（蓝色/5），增加视觉层次感

## 交互行为

### 手势交互
- 本页面不响应任何手势操作
- 禁用返回手势（启动页为入口页面）
- 不可左右滑动，不可下拉

### 输入交互
- 无输入交互
- 本页面无任何可点击元素

### 动画与反馈

#### 冷启动动画序列（首次启动或进程被杀死后启动）
1. **阶段一（0-300ms）**：白色背景渐显
2. **阶段二（300-900ms）**：Logo 从 scale 0.8 → 1.0 + opacity 0 → 1，ease-out 缓动
3. **阶段三（900-1300ms）**：应用名称和标语渐显
4. **阶段四（1300ms 起）**：加载指示器开始循环跳动
5. **阶段五（加载完成时）**：整页 opacity 1 → 0 过渡到下一页面，时长 300ms

#### 热启动动画（应用从后台切回前台）
1. 无启动页动画，直接恢复上次页面
2. 若后台超过 30 分钟，显示简化启动页（仅 Logo 静态展示 800ms）

#### 首次启动 vs 回归用户检测逻辑
- 启动时检查本地是否存有登录令牌（token）
- **无令牌（首次/已退出）**：启动动画完成后跳转 A2（手机号登录页）
- **有令牌（回归用户）**：启动时同时进行令牌校验 + 声纹识别准备
  - 令牌有效：根据最近活跃用户角色跳转 B1（学生首页）或 B2（家长首页）
  - 令牌失效：跳转 A2（手机号登录页）
- **声纹快速识别**：若设备麦克风已授权且环境音量足够，后台尝试被动声纹采集，匹配成功可直接识别当前用户身份

### AI 老师交互
- 本页面不涉及 AI 老师交互

## 状态枚举

### 默认状态
- 展示完整启动动画序列，Logo + 名称 + 标语 + 加载指示器
- 加载指示器持续播放直到后台检测完成

### 空状态
- 不适用（启动页无数据依赖）

### 加载状态
- 加载指示器循环跳动
- 后台同时进行：网络连通性检测、令牌校验、声纹模块初始化、配置拉取
- 最短展示时长 2 秒（品牌曝光），最长等待 5 秒

### 错误状态
- **网络不可用**：启动页停留，加载指示器替换为文字提示「网络连接不可用，请检查网络设置」+ 「重试」按钮
- **服务端不可达**：展示「服务暂时不可用，请稍后再试」+ 「重试」按钮
- **重试按钮样式**：字号 16pt，品牌色文字，点击区域 44×44pt 最小可触

### 边界情况
- **极慢网络**：超过 5 秒未完成检测，展示超时提示并提供重试
- **多次重试失败**：第 3 次失败后，额外展示「离线模式」入口（若支持）
- **系统权限弹窗干扰**：若启动时弹出系统权限请求（通知等），启动动画暂停，权限弹窗关闭后继续
- **深色模式切换**：启动页需适配浅色/深色两套配色方案
- **横屏启动**：强制竖屏展示，忽略设备方向
- **分屏/画中画（iPad）**：保持居中布局，不做响应式拉伸

## 导航关系

### 从哪来
- 用户点击应用图标启动（冷启动）
- 应用从后台切回（热启动，条件触发）
- 系统推送通知点击进入
- 深度链接（Deep Link）触发启动

### 到哪去
- **首次用户 / 令牌失效** → A2 手机号登录页
- **回归用户（学生身份）** → B1 学生首页
- **回归用户（家长身份）** → B2 家长首页
- **网络错误** → 停留在当前页面，展示错误状态
